# vuln-scrapy
# intel-engine  
**ä¸€ç«™å¼æ¼æ´é£é™©è¯„ä¼° & è‡ªåŠ¨åŒ–å¤„ç½®ç®¡çº¿**

---

## ğŸ“Œ é¡¹ç›®ç®€ä»‹  
`intel-engine` æŠŠã€Œèµ„äº§å‘ç° â†’ æ¼æ´æ‰«æ â†’ å›¾ç¥ç»ç½‘ç»œé£é™©æ‰“åˆ† â†’ å¯è§†åŒ–æŠ¥å‘Š â†’ è”åŠ¨å°ç¦ã€ä¸²æˆä¸€æ¡å‘½ä»¤å³å¯è·‘å®Œçš„é—­ç¯æµç¨‹ã€‚  
- **èµ„äº§å‘ç°**ï¼šfofa / nuclei / è‡ªå®šä¹‰ POC  
- **é£é™©æ¨¡å‹**ï¼šPyTorch Geometric å›¾ç¥ç»ç½‘ç»œ  
- **å®æ—¶æ¨ç†**ï¼šå•æ–‡ä»¶å³å¯è¾“å‡ºæ¯æ¡ IP çš„ 0-1 é£é™©æ¦‚ç‡  
- **å¯è§†åŒ–**ï¼šStreamlit ä»ªè¡¨ç›˜ä¸€é”®æ‰“å¼€  
- **è”åŠ¨å¤„ç½®**ï¼šè‡ªåŠ¨ç”Ÿæˆ CSVã€é˜²ç«å¢™é»‘åå•è„šæœ¬  

---

## ğŸ—‚ï¸ ç›®å½•é€Ÿè§ˆ  

| æ–‡ä»¶ | ä½œç”¨ |
|---|---|
| `recon.py` / `recon-lite.py` | èµ„äº§å‘ç° & æ¼æ´æ‰«æ |
| `gen_dummy.py` | ç”Ÿæˆè®­ç»ƒ/æµ‹è¯•ç”¨çš„å‡æ•°æ® |
| `train.py` | è¯»å– `clean/vuln_*.json` â†’ è®­ç»ƒ GNN â†’ ä¿å­˜ `risk_gnn_final.pt` |
| `predict.py` | å¯¹ä»»æ„ JSON å®æ—¶è¾“å‡ºé£é™©æ¦‚ç‡ |
| `streamlit_report.py` | Web ä»ªè¡¨ç›˜å±•ç¤ºé£é™©çƒ­åŠ›å›¾ |
| `run_all.py` | ä¸€é”®è·‘å®Œæ•´ç®¡çº¿ |
| `clean/` | å­˜æ”¾æ‰«æç»“æœ JSONï¼ˆè®­ç»ƒ+æ¨ç†ï¼‰ |
| `config.yaml` | èµ„äº§å‘ç°é…ç½® |

---

## ğŸš€ 5 åˆ†é’Ÿä¸Šæ‰‹  

### 1ï¸âƒ£ ç¯å¢ƒ
```bash
python -m venv .venv
source .venv/bin/activate      # Windows: .venv\Scripts\activate
pip install -r requirements.txt   # è‹¥ç¼ºå¤±æ‰‹åŠ¨è¡¥ä¾èµ–
```

### 2ï¸âƒ£ ç”Ÿæˆè®­ç»ƒæ•°æ®ï¼ˆå¯é€‰ï¼‰
```bash
python gen_dummy.py        # ç”Ÿæˆ clean/vuln_*.json
```

### 3ï¸âƒ£ è®­ç»ƒæ¨¡å‹
```bash
python train.py            # è¾“å‡º risk_gnn_final.pt
```

### 4ï¸âƒ£ å®æ—¶æ¨ç†
```bash
python predict.py clean/final_vulns.json
```
ç¤ºä¾‹è¾“å‡ºï¼š  
```
139.162.244.247  é£é™©æ¦‚ç‡: 0.9214
110.41.48.28     é£é™©æ¦‚ç‡: 0.9152
...
```

### 5ï¸âƒ£ å¯è§†åŒ–çœ‹æ¿
```bash
streamlit run streamlit_report.py
# æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ http://localhost:8501
```

### 6ï¸âƒ£ ä¸€é”®å…¨æµç¨‹ï¼ˆæ¨èï¼‰
```bash
python run_all.py
```

---

## âš™ï¸ é…ç½®æ–‡ä»¶ `config.yaml`
```yaml
targets:
  - 192.168.1.0/24
  - 10.0.0.0/16
fofa_token: "YOUR_FOFA_TOKEN"
nuclei_templates_path: "./nuclei-templates"
```

---

## ğŸ“Š é£é™©é˜ˆå€¼å»ºè®®

| é£é™©æ¦‚ç‡ | å»ºè®®åŠ¨ä½œ |
|---|---|
| â‰¥0.90 | ç«‹å³å°ç¦ / ç´§æ€¥å·¥å• |
| 0.70â€“0.89 | é«˜ä¼˜å¤„ç½® |
| 0.50â€“0.69 | ä¸­ä¼˜è·Ÿè¿› |
| <0.50 | ä½ä¼˜è§‚å¯Ÿ |

---

## ğŸ› ï¸ å¸¸è§é—®é¢˜ FAQ

| ç°è±¡ | è§£å†³ |
|---|---|
| `èŠ‚ç‚¹æ•°: 0` | æ£€æŸ¥ `clean/` æ˜¯å¦æœ‰ `vuln_*.json` |
| `AUC=nan` | è®­ç»ƒé›†æ­£è´Ÿæ ·æœ¬æåº¦ä¸å¹³è¡¡ â†’ ä½¿ç”¨ `train_test_split(..., stratify=data.y)` |
| `size mismatch` | ç¡®ä¿æ¨ç†è„šæœ¬ä¸è®­ç»ƒè„šæœ¬å»ºå›¾é€»è¾‘å®Œå…¨ä¸€è‡´ |

---

## ğŸ¤ è´¡çŒ® & åé¦ˆ
æ¬¢è¿æ Issue / PRï¼Œä¸€èµ·æŠŠé£é™©æ‰“å¾—æ›´å‡†ï¼
